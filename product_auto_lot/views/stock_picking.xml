<?xml version="1.0" encoding="utf-8"?>
<odoo>

        <!-- Warehouse -->
        <record id="view_picking_form" model="ir.ui.view">
            <field name="name">Stock Picking</field>
            <field name="model">stock.picking</field>
            <field name="inherit_id" ref="stock.view_picking_form"/>
            <field name="arch" type="xml">
                <!--<field name="_barcode_scanned" position="replace">-->
                    <!--<field name="_barcode_scanned" widget="picking_barcode_handler" context="{'barcode_scanned': True}"/>-->
                <!--</field>-->
                <field name="package_level_ids" position="before">
                    <!--<button string="Compute Lots" type="object" name="action_compute_quants" help="Computes the quantities of lots found in the selected pallets" attrs="{'invisible': [('pack_operation_pack_ids', '=', [])]}" groups="stock.group_tracking_lot"/>-->
                    <group col="4" colspan="4">
                        <group colspan="2">
                            <field nolabel="1" colspan="4" context="{'pallet_manual_input': True}" name="pallet_operation_ids" attrs="{'invisible': [('pallet_operation_ids', '=', []), ('picking_lot_ids', '=', [])]}" groups="stock.group_tracking_lot">
                                <tree nocreate="1">
                                    <field name="picking_id" invisible="1"/>
                                    <field name="pallet_id"/>
                                    <field name="lot_id"/>
                                </tree>
                            </field>
                        </group>
                        <group colspan="2">
                            <field nolabel="1" colspan="4" name="picking_lot_ids" attrs="{'invisible': [('pallet_operation_ids', '=', []), ('picking_lot_ids', '=', [])]}" groups="stock.group_tracking_lot">
                                <tree nocreate="1" delete="false">
                                    <field name="product_id" invisible="1"/>
                                    <field name="lookup_code" />
                                    <field name="lot_id"/>
                                    <field name="quantity" sum="Total qty"/>
                                    <field name="picking_id" invisible="1"/>
                                </tree>
                            </field>

                            <field string="Memo (Removing entries won't update pallets until picking is saved)" colspan="4" name="memo" context="{'manual_input': True}"/>
                        </group>
                    </group>

                </field>

            </field>
        </record>

</odoo>